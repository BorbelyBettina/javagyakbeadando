<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: head('Városok listája')}"></head>

<style>
    /* Felülírjuk a piros háttér problémát */
    #one.wrapper.style2.special {
        background-color: #1c1d26;
    }
</style>

<body class="is-preload landing">
<div id="page-wrapper">
    <!-- Header file -->
    <th:block th:replace="~{fragments/header :: header}"></th:block>

    <section id="one" class="wrapper style2 special">
        <div class="container">
            <header class="major">
                <h2>Városok listája</h2>
                <p>Összes város az adatbázisban</p>
            </header>

            <a th:href="@{/crud/new}" class="button primary large">Új város hozzáadása</a>
            <br><br><br>

            <div class="table-wrapper">
                <table class="alt">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Név</th>
                        <th>Megye</th>
                        <th>Megyeszékhely</th>
                        <th>Megyei jogú</th>
                        <th>Műveletek</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="city : ${cities}">
                        <td th:text="${city.id}"></td>
                        <td th:text="${city.nev}"></td>
                        <td th:text="${city.megye?.nev} ?: '–'"></td>
                        <td th:text="${city.megyeszekhely} ? 'Igen' : 'Nem'"></td>
                        <td th:text="${city.megyeijogu} ? 'Igen' : 'Nem'"></td>
                        <td>
                            <a th:href="@{/crud/edit/{id}(id=${city.id})}" class="button small">Szerkesztés</a>
                            <a th:href="@{/crud/delete/{id}(id=${city.id})}"
                               class="button small alt small"
                               onclick="return confirm('Biztosan törlöd?')">Törlés</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Footer fájl -->
    <th:block th:replace="~{fragments/footer :: footer}"></th:block>

</div>
</body>
</html>